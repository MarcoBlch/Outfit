<div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-12 px-4">
  <div class="max-w-5xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-white mb-4">Upgrade to Premium</h1>
      <p class="text-lg text-slate-300 max-w-2xl mx-auto">
        Unlock the full potential of your digital wardrobe with AI-powered suggestions and advanced features.
      </p>
    </div>

    <!-- Current Status Banner -->
    <% if current_user.premium? %>
      <div class="mb-8 bg-gradient-to-r from-purple-600/30 to-pink-600/30 border border-purple-500/50 rounded-xl p-6">
        <div class="flex items-center justify-between flex-wrap gap-4">
          <div>
            <div class="flex items-center gap-2">
              <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-500 text-white">
                Premium Member
              </span>
              <% if @current_subscription&.will_cancel? %>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-orange-500 text-white">
                  Cancelling
                </span>
              <% end %>
            </div>
            <% if @current_subscription&.current_period_end %>
              <p class="text-slate-300 mt-2">
                <% if @current_subscription.will_cancel? %>
                  Access until <%= @current_subscription.current_period_end.strftime("%B %d, %Y") %>
                <% else %>
                  Next billing date: <%= @current_subscription.current_period_end.strftime("%B %d, %Y") %>
                <% end %>
              </p>
            <% end %>
          </div>
          <div class="flex gap-3">
            <% if @current_subscription&.will_cancel? %>
              <%= button_to "Reactivate", reactivate_subscriptions_path,
                  method: :post,
                  class: "px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-colors" %>
            <% else %>
              <%= link_to "Manage Billing", portal_subscriptions_path,
                  class: "px-4 py-2 bg-white/10 hover:bg-white/20 text-white font-medium rounded-lg transition-colors" %>
              <%= button_to "Cancel Subscription", cancel_subscription_subscriptions_path,
                  method: :post,
                  data: { turbo_confirm: "Are you sure you want to cancel? You'll keep access until the end of your billing period." },
                  class: "px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 font-medium rounded-lg transition-colors" %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>

    <!-- Pricing Cards -->
    <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
      <!-- Free Tier -->
      <div class="bg-white/5 backdrop-blur-sm rounded-2xl p-8 border border-white/10">
        <div class="text-center mb-6">
          <h2 class="text-2xl font-bold text-white mb-2">Free</h2>
          <div class="flex items-baseline justify-center gap-1">
            <span class="text-4xl font-bold text-white">$0</span>
            <span class="text-slate-400">/month</span>
          </div>
        </div>

        <ul class="space-y-4 mb-8">
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span>Up to <strong class="text-white">50</strong> wardrobe items</span>
          </li>
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span><strong class="text-white">3</strong> AI suggestions per day</span>
          </li>
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span>Unlimited outfit creations</span>
          </li>
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span>Basic weather integration</span>
          </li>
          <li class="flex items-center gap-3 text-slate-500">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
            <span>Image-based search</span>
          </li>
          <li class="flex items-center gap-3 text-slate-500">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
            <span>Priority support</span>
          </li>
        </ul>

        <% unless current_user.premium? %>
          <div class="text-center">
            <span class="inline-flex items-center px-4 py-2 bg-white/10 text-slate-400 font-medium rounded-lg">
              Current Plan
            </span>
          </div>
        <% end %>
      </div>

      <!-- Premium Tier -->
      <div class="bg-gradient-to-br from-purple-600/20 to-pink-600/20 backdrop-blur-sm rounded-2xl p-8 border-2 border-purple-500/50 relative">
        <div class="absolute -top-4 left-1/2 -translate-x-1/2">
          <span class="inline-flex items-center px-4 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-sm font-bold rounded-full">
            MOST POPULAR
          </span>
        </div>

        <div class="text-center mb-6 pt-2">
          <h2 class="text-2xl font-bold text-white mb-2">Premium</h2>
          <div class="flex items-baseline justify-center gap-1">
            <span class="text-4xl font-bold text-white">$7.99</span>
            <span class="text-slate-400">/month</span>
          </div>
        </div>

        <ul class="space-y-4 mb-8">
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span>Up to <strong class="text-white">300</strong> wardrobe items</span>
          </li>
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span><strong class="text-white">30</strong> AI suggestions per day</span>
          </li>
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span>Unlimited outfit creations</span>
          </li>
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span><strong class="text-white">Full</strong> weather integration</span>
          </li>
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span><strong class="text-white">5</strong> image searches per day</span>
          </li>
          <li class="flex items-center gap-3 text-slate-300">
            <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
            <span>Priority support</span>
          </li>
        </ul>

        <% if current_user.premium? %>
          <div class="text-center">
            <span class="inline-flex items-center px-4 py-2 bg-purple-500/30 text-purple-300 font-medium rounded-lg">
              Current Plan
            </span>
          </div>
        <% else %>
          <%= button_to "Upgrade to Premium", subscriptions_path,
              method: :post,
              class: "w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold rounded-lg transition-all transform hover:scale-[1.02] shadow-lg shadow-purple-500/30" %>
        <% end %>
      </div>
    </div>

    <!-- Features Comparison -->
    <div class="mt-16">
      <h2 class="text-2xl font-bold text-white text-center mb-8">Feature Comparison</h2>
      <div class="bg-white/5 backdrop-blur-sm rounded-xl overflow-hidden border border-white/10">
        <table class="w-full">
          <thead>
            <tr class="border-b border-white/10">
              <th class="py-4 px-6 text-left text-slate-300 font-medium">Feature</th>
              <th class="py-4 px-6 text-center text-slate-300 font-medium">Free</th>
              <th class="py-4 px-6 text-center text-purple-400 font-medium">Premium</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-white/5">
            <tr>
              <td class="py-4 px-6 text-slate-300">Wardrobe Items</td>
              <td class="py-4 px-6 text-center text-white">50</td>
              <td class="py-4 px-6 text-center text-white font-medium">300</td>
            </tr>
            <tr>
              <td class="py-4 px-6 text-slate-300">AI Outfit Suggestions</td>
              <td class="py-4 px-6 text-center text-white">3/day</td>
              <td class="py-4 px-6 text-center text-white font-medium">30/day</td>
            </tr>
            <tr>
              <td class="py-4 px-6 text-slate-300">Image-based Search</td>
              <td class="py-4 px-6 text-center text-slate-500">-</td>
              <td class="py-4 px-6 text-center text-white font-medium">5/day</td>
            </tr>
            <tr>
              <td class="py-4 px-6 text-slate-300">Weather Integration</td>
              <td class="py-4 px-6 text-center text-white">Basic</td>
              <td class="py-4 px-6 text-center text-white font-medium">Full</td>
            </tr>
            <tr>
              <td class="py-4 px-6 text-slate-300">Outfit History</td>
              <td class="py-4 px-6 text-center text-white">30 days</td>
              <td class="py-4 px-6 text-center text-white font-medium">Unlimited</td>
            </tr>
            <tr>
              <td class="py-4 px-6 text-slate-300">Priority Support</td>
              <td class="py-4 px-6 text-center text-slate-500">-</td>
              <td class="py-4 px-6 text-center">
                <svg class="w-5 h-5 text-purple-400 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="mt-16 max-w-3xl mx-auto">
      <h2 class="text-2xl font-bold text-white text-center mb-8">Frequently Asked Questions</h2>
      <div class="space-y-4">
        <details class="bg-white/5 backdrop-blur-sm rounded-lg border border-white/10 group">
          <summary class="p-4 cursor-pointer text-white font-medium flex items-center justify-between">
            Can I cancel anytime?
            <svg class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <p class="px-4 pb-4 text-slate-300">
            Yes! You can cancel your subscription at any time. You'll continue to have access to Premium features until the end of your current billing period.
          </p>
        </details>

        <details class="bg-white/5 backdrop-blur-sm rounded-lg border border-white/10 group">
          <summary class="p-4 cursor-pointer text-white font-medium flex items-center justify-between">
            What payment methods do you accept?
            <svg class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <p class="px-4 pb-4 text-slate-300">
            We accept all major credit cards (Visa, Mastercard, American Express) through our secure payment processor, Stripe.
          </p>
        </details>

        <details class="bg-white/5 backdrop-blur-sm rounded-lg border border-white/10 group">
          <summary class="p-4 cursor-pointer text-white font-medium flex items-center justify-between">
            What happens to my data if I downgrade?
            <svg class="w-5 h-5 text-slate-400 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <p class="px-4 pb-4 text-slate-300">
            Your wardrobe items and outfits are never deleted. If you exceed the free tier limits, you'll still be able to view everything but won't be able to add new items until you're within the limits.
          </p>
        </details>
      </div>
    </div>

    <!-- Back Link -->
    <div class="mt-12 text-center">
      <%= link_to "Back to Wardrobe", wardrobe_items_path, class: "text-slate-400 hover:text-white transition-colors" %>
    </div>
  </div>
</div>
